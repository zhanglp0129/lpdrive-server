# file
文件相关文档

## 命名
- 文件长度上限为255字符，路径长度无上限
- 正常文件名称中不能包含以下字符：< > / \ | : * ?，开头和结尾不能有空格。特殊文件除外
- 区分大小写
- 当上传文件、从回收站复原复原等场景下，遇到重名文件时，会在文件名称(不包括扩展名)后面加上序号

## 目录
- 目录的层级最多为30层，超出30层则会报错

## 特殊文件
- 回收站目录：名称为：`:recycle.bin`

## 删除文件
- 删除文件后，将该文件放入回收站，并重命名为一个随机的字符串
- 恢复文件时，如果原目录已删除，则需要自己选择一个目录
- 彻底删除后，会删除数据库中的记录
- 彻底删除后，如果文件大小大于100MB，则会检查数据库中是否存在相同文件，不存在则删除Minio中的该文件
- 删除文件后，不会恢复容量；彻底删除后，才会恢复容量

## 分享文件
- 当分享文件时，需要选择哪些用户可见(白名单)或哪些用户不可见(黑名单)。自己不需要设置，始终可见
- 其他用户转存分享的文件时，会递归复制该文件及其所有子文件到指定目录
- 当其他用户转存后，修改分享的文件不会同步到其他用户。其他用户转存前修改，则会同步
- 分享的文件不允许删除和移动，但是可以重命名，其子文件可以删除和移动